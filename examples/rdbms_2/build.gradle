dependencies {
    compile "com.marklogic:ml-javaclient-util:2.12.0"

    // https://mvnrepository.com/artifact/org.springframework/spring-jdbc
    compile "org.springframework:spring-jdbc:4.3.1.RELEASE"

    testCompile "org.hsqldb:hsqldb:2.3.4"

    runtime "org.hsqldb:hsqldb:2.3.4"
}

distributions {
    main {
        baseName = "rdbms_2"
    }
}

task runManager(type: JavaExec) {
    classpath = configurations.runtime
    main = "org.hsqldb.util.DatabaseManagerSwing"
    args = [
            "--driver", "org.hsqldb.jdbc.JDBCDriver",
            "--url", "jdbc:hsqldb:file:data/invoices",
            "--user", "SA"
    ]
}

task importInvoices(type: JavaExec) {
    classpath = sourceSets.main.runtimeClasspath
    main = "com.marklogic.spring.batch.Main"
    args = [
            "--host", "localhost",
            "--port", "8200",
            "--username", "admin",
            "--password", "admin",
            "--config", "example.ExtractInvoiceDataToMarkLogicConfig",
            "--jdbc_driver", "org.hsqldb.jdbc.JDBCDriver",
            "--jdbc_url", "jdbc:hsqldb:file:E:\\gitrepo\\marklogic-spring-batch\\examples\\rdbms_2\\data\\invoices",
            "--jdbc_username", "sa",
    ]
}

